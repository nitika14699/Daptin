# OAuth Connections

Daptin is natively aware of oauth2 flows and can seamlessly handle oauth tokens and refresh tokens (if provided).

Oauth connection are useful in consuming other parts of daptin easily, like cloud storage, sub-sites, 3rd party logins.

To begin using oauth involved flows (eg GoogleDrive as data storage) first daptin needs to be configured about the oauth connection parameters. 

### Creating a new oauth connection

- Log into the dashboard
- Click the tile "OAuth connections"
- Click the green "+" button on the top right
- Leave "Allow Login" unchecked. We can change this later
- Enter your service's auth endpoint, eg for google its "https://accounts.google.com/o/oauth2/auth"
- **Client Id**: Client Id generated by the service for daptin
- **Client Secret**: Client secret, this will be stored after encryption and wont be retrievable from daptin.
- **Name**: Identify it with a name 
- **Redirect Uri**: Change this to `http://<Domain>/oauth/response` instead of `/oauth/response`
- **Response Type**: code
- **Scope**: Appropriate score defined by the oauth service to access the resource
  - Eg: 
    - for gdrive: `https://www.googleapis.com/auth/drive`
    - for gsheet: `https://www.googleapis.com/auth/spreadsheets`
- **Token Url**: The token info url of the oauth service: eg: `https://accounts.google.com/o/oauth2/token`

Now you can [generate a token](/daptin/extend/oauth_token/)